% Note: use XeLaTeX for rendering
% !TEX encoding = UTF-8


\documentclass[twoside]{article}


%% Packages and their configuration
\input{include/packages.tex}

%% Custom macros
\input{include/macros.tex}


%% Our function for adding furigana
\input{include/furi}

%% Configuration for "ruby" package (loaded by 'files/furi')
\input{include/ruby-config}



%opening
\title{
Solr and ElasticSearch:
\\ 
index, faceting, and 
\\
analysing the lyrics of Japanese songs}

\author{Pierre S. Caboche ( \furi{南瓜/カボチャ}ピエール )}


% Custom format to indicate revision date (when needed)
\date{
	September 12, 2022 \\
%	\medskip 
%	\footnotesize \emph{Revised: \today}
}


\begin{document}

\maketitle



\begin{abstract}

\bigskip

このドキュメントは、日本語の歌詞の\furi{単語/たんご,の/,使用状況/しようじょうきょう,を/,統計的/とうけいてき,に/,分析/ぶんせき,が/,含/ふく}まれています。 \furi{結果/けっか}は「Part \ref{analysing-lyrics}」(\pageref*{analysing-lyrics}ページから\pageref*{analysing-lyrics-end}ページまで)に示されています。

This document contains a statistical analysis of word usage in the lyrics of Japanese songs. The results are shown in part \ref{analysing-lyrics} (pages \pageref*{analysing-lyrics} to \pageref*{analysing-lyrics-end}). \\
	
\bigskip
	

This article's content is divided as follows:
\begin{itemize}
	\item \textasciitilde 20\%: learning about Solr, full-text search, faceting, and associated concepts
	\item \textasciitilde 10\%: learning how to use those concepts in ElasticSearch, and showing some differences between ElasticSearch and Solr
	\item \textasciitilde 70\%: applying what we learned to analyse the lyrics of Japanese songs, in terms of vocabulary used
\end{itemize}	

\bigskip

In other words, we will give you a quick introduction to Solr and ElasticSearch, then the bulk of this article will be about seeing the tools in action on some interesting, real-world example.

Our goal with this example, will be to answer questions like: \emph{``What kind of words are usually used by different bands / songwriters ?"} (to identify trending words, understand the writing styles of different artists, and find similarities between bands). \\

For this, we will use \emph{Solr} (an enterprise-search platform based on \emph{Apache Lucene}), and try to replicate the results on the increasingly popular \emph{ElasticSearch}.

All the documents to index are in Japanese, which will allow us to learn about \emph{morphologic analysers}, \emph{lemmatisation}, and the challenges associated with indexing texts in different languages. \\

\bigskip

Therefore, this article may appeal to different audiences:
\begin{itemize}
	\item software developers who want to learn about \emph{Solr}, \emph{ElasticSearch}, full-text search, \emph{faceting}, \emph{aggregations}, etc.
	
	\item people interested in Japanese music
	
	\item people interested in learning Japanese
\end{itemize}


\bigskip


\end{abstract}

\newpage


%%% Intro


%%% TOC
\newpage
\renewcommand{\currentPart}{Table of Contents}

\addtocontents{toc}{\setcounter{tocdepth}{3}}
\setcounter{tocdepth}{3}
\tableofcontents

 
%%% Article body

\newpage
\input{content/part-first-words.tex}



\newpage
\input{content/part-theory.tex}



\newpage
\input{content/part-intro-solr.tex}



\newpage
\input{content/part-challenges.tex}


\bigskip
\bigskip

In the next part, we will learn how to run Solr\dots


\newpage
\input{content/part-running-solr.tex}


\newpage
\input{content/part-analysing-lyrics.tex}


\newpage
\input{content/part-other-solr-features.tex}


\newpage
\input{content/part-elasticsearch.tex}


\newpage
\input{content/part-final-words.tex}




\renewcommand{\formatPartTitle}{}





\listoffigures



% Label on the last page. Allows to easily get the page number
\label{LastPage}

\end{document}
